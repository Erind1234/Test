using System;
using System.Collections.Generic;
using System.ComponentModel.DataAnnotations;
using System.Web.Mvc;

namespace InApps.Models
{
    public class EmpModel
    {
        [Display(Name = "ID")]
        [Key]
        public int ID { get; set; }

        public string searchBox { get; set; }
        public string refcodeSearchBox { get; set; }

        public string REFCODE { get; set; }
        public string DATTIMSEND { get; set; }
        public string BANKNIPT { get; set; }

        [Required(ErrorMessage = "Numri Urdhrit is required")]
        public string PYMTORDNUM { get; set; }

        [RegularExpression(@"^[A-Za-z]\d{8}[A-Za-z]$", ErrorMessage = "Invalid format. It should start with a letter, have 8 numbers, and end with a letter.")]
        public string PAYERNIPT { get; set; }

        public string EINFIC { get; set; }
        public string PYMTDATTIM { get; set; }
        public string PAIDAMT { get; set; }
        public string OVERPAIDAMT { get; set; }
        public string PAIDCUR { get; set; }
        public string TRANSACTIONCODE { get; set; }
        public string PYMTTYPE { get; set; }
        public string PYMTSTATUS { get; set; }
        public string CODE { get; set; }
        public string MESSAGE { get; set; }

        internal bool SaveFiscalization()
        {
            throw new NotImplementedException();
        }

        public string USR { get; set; }
        public string SELLERNIPT { get; set; }

        [Display(Name = "Invoice Date")]
        public string INVOICEDATE { get; set; }
        public string IBANNR { get; set; }
        public string SWIFTNR { get; set; }
        public string BANKNAME { get; set; }
        public string QRCODEVAL { get; set; }

        [Required(ErrorMessage = "STPROFILE is required")]
        public string STPROFILE { get; set; }

        public string NIVF { get; set; }

        public List<EmpModel> TableData { get; set; }
    }
}


index
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation/1.19.2/jquery.validate.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/3.2.12/jquery.validate.unobtrusive.min.js"></script>


@model InApps.Models.EmpModel

<!DOCTYPE html>
<html>
<head>
    <title>Your Page Title</title>
    <!-- Include your stylesheets and scripts here -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="search-group">
            @using (Html.BeginForm("Index", "Fiscalization", FormMethod.Post))
            {
                <br />
                <br />
                <div class="form-group">
                    @Html.TextBoxFor(model => model.searchBox, new { @class = "form-control search-box", placeholder = "Klikoni per te skanuar:", id = "searchBox" })
                    <button type="submit" class="btn btn-primary ml-2" id="scan">Scan</button>
                </div>
            }
            <div class="freeze-search-box" id="freezeSearchBox" style="display: none;"></div>
        </div>

        <div class="form-group mt-4">
            @Html.TextBoxFor(model => model.REFCODE, new { @class = "form-control search-box", placeholder = "Enter REFCODE", id = "REFCODE" })
            <button id="searchByRefcode" class="btn btn-success ml-2">Kerko me Teller Reference</button>
        </div>

        <div id="resultTable" class="table-container" style="display: none;"></div>

        <div class="fixed-table" id="tab1">
            @if (!string.IsNullOrEmpty(ViewBag.p1))
            {
                using (Html.BeginForm("SaveFiscalization", "Fiscalization", FormMethod.Post))
                {
                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                    <table class="table">
                        <tr>
                            <td>@Html.LabelFor(model => model.PYMTORDNUM)</td>
                            <td>
                                @Html.TextBoxFor(model => model.PYMTORDNUM, new { @class = "form-control" })
                                @Html.ValidationMessageFor(model => model.PYMTORDNUM, "", new { @class = "text-danger" })
                            </td>
                        </tr>
                        <!-- Add other form elements here with similar structure -->
                        <tr>
                            <td></td>
                            <td>
                                <button type="submit" id="ruajButton" class="btn btn-primary ml-2">Ruaj</button>
                                <button type="reset" id="resetButton" class="btn btn-primary ml-2">Skanim i Ri</button>
                            </td>
                        </tr>
                    </table>
                }
            }
            <div class="popup" id="popupWindow" style="display: none;">
                <h3>Saved Data</h3>
                <p> @ViewBag.savedData</p>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation/1.19.2/jquery.validate.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/3.2.12/jquery.validate.unobtrusive.min.js"></script>

    <!-- Include your other scripts here -->
</body>
</html>
