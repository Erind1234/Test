$(document).ready(function () {
    // Add an event listener for the "Search by REFCODE" button
    $("#searchByRefcode").click(function () {
        var refcode = $("#REFCODE").val();
        if (refcode !== "") {
            $.post("/Fiscalization/SearchByRefcode", { REFCODE: refcode }, function (data) {
                $("#resultTable").html(data);
                $("#resultTable").show();
            });
        }
    });

    // Add an event listener for the first search box
    $("input[name='searchBox']").on("input", function () {
        var searchTerm = $(this).val();
        $("#freezeSearchBox").text(searchTerm).show();
    });

    // Prevent the form from submitting and handle it via JavaScript
    $("form").submit(function (e) {
        e.preventDefault();
        var searchTerm = $("input[name='searchBox']").val();
        $("#freezeSearchBox").text(searchTerm).show();
        // Add your code to submit the form data via AJAX and show the fixed table.
        // Example AJAX request:
        // $.post("/Fiscalization/YourAction", { searchTerm: searchTerm }, function (data) {
        //     // Handle the response here
        //     $(".fixed-table").addClass("show");
        // });
    });
    
    // Function to delete row
    function deleteRow() {
        if (confirm("Are you sure you want to delete this row?")) {
            // Add your delete logic here
        }
    }
    $(".fixed_table").addClass("show"); // Uncomment this line if you want to show the fixed table by default
});
